import"./index.vuevuetypestyleindex0scoped9edd959blang-e1d68ef3.js";import{d as be,c as Ce,t as Re,i as Ke,a as qe,b as He,e as We,u as $e,U as O,f as M,g as R,h as P,j as X,k,l as ae,m as we,n as j,w as D,o as ue,p as re,q as de,r as L,s as W,v as Je,x as fe,y as te,z as ce,A as B,B as Ie,C as _,D as f,E as $,F as w,G as T,H as C,I as a,J,K as S,L as Q,M as Z,N as A,O as F,P as ee,Q as N,R as V,S as K,_ as le,T as ne,V as Ve,W as xe,X as Qe,Y as Xe,Z as Ee,$ as Be,a0 as me,a1 as Ye,a2 as oe,a3 as ie,a4 as Ze,a5 as je,a6 as _e,a7 as Le,a8 as Y,a9 as G,aa as el,ab as Te,ac as pe,ad as ll,ae as q,af as al,ag as H,ah as tl,ai as Ne,aj as z,ak as nl,al as ol,am as il,an as sl,ao as ul,ap as rl}from"./index-e4b6ee3e.js";import{f as dl,i as cl,a as vl,b as bl,E as he,c as ge,d as fl,_ as ml,e as ye,g as pl,u as hl}from"./index.vuevuetypescriptsetuptruelang-a37be924.js";import{_ as ze}from"./plugin-vueexport-helper-c27b6911.js";function gl(e){return e}function yl(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}var kl=800,Sl=16,Cl=Date.now;function $l(e){var t=0,o=0;return function(){var l=Cl(),u=Sl-(l-o);if(o=l,u>0){if(++t>=kl)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function wl(e){return function(){return e}}var Il=be?function(e,t){return be(e,"toString",{configurable:!0,enumerable:!1,value:wl(t),writable:!0})}:gl;const Vl=Il;var xl=$l(Vl);const El=xl;var ke=Math.max;function Bl(e,t,o){return t=ke(t===void 0?e.length-1:t,0),function(){for(var l=arguments,u=-1,i=ke(l.length-t,0),s=Array(i);++u<i;)s[u]=l[t+u];u=-1;for(var n=Array(t+1);++u<t;)n[u]=l[u];return n[t]=o(s),yl(e,this,n)}}function Ll(e){return El(Bl(e,void 0,dl),e+"")}function Tl(e,t){return e!=null&&t in Object(e)}function Nl(e,t,o){t=Ce(t,e);for(var l=-1,u=t.length,i=!1;++l<u;){var s=Re(t[l]);if(!(i=e!=null&&o(e,s)))break;e=e[s]}return i||++l!=u?i:(u=e==null?0:e.length,!!u&&cl(u)&&Ke(s,u)&&(qe(e)||vl(e)))}function zl(e,t){return e!=null&&Nl(e,t,Tl)}function Pl(e,t,o){for(var l=-1,u=t.length,i={};++l<u;){var s=t[l],n=He(e,s);o(n,s)&&We(i,Ce(s,e),n)}return i}function Fl(e,t){return Pl(e,t,function(o,l){return zl(e,l)})}var Ol=Ll(function(e,t){return e==null?{}:Fl(e,t)});const Dl=Ol,Pe={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:$e,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},Fe={[O]:e=>M(e)||R(e)||P(e),change:e=>M(e)||R(e)||P(e)},U=Symbol("checkboxGroupContextKey"),Gl=({model:e,isChecked:t})=>{const o=X(U,void 0),l=k(()=>{var i,s;const n=(i=o==null?void 0:o.max)==null?void 0:i.value,m=(s=o==null?void 0:o.min)==null?void 0:s.value;return!ae(n)&&e.value.length>=n&&!t.value||!ae(m)&&e.value.length<=m&&t.value});return{isDisabled:we(k(()=>(o==null?void 0:o.disabled.value)||l.value)),isLimitDisabled:l}},Al=(e,{model:t,isLimitExceeded:o,hasOwnLabel:l,isDisabled:u,isLabeledByFormItem:i})=>{const s=X(U,void 0),{formItem:n}=j(),{emit:m}=de();function r(h){var g,b;return h===e.trueLabel||h===!0?(g=e.trueLabel)!=null?g:!0:(b=e.falseLabel)!=null?b:!1}function c(h,g){m("change",r(h),g)}function p(h){if(o.value)return;const g=h.target;m("change",r(g.checked),h)}async function x(h){o.value||!l.value&&!u.value&&i.value&&(h.composedPath().some(y=>y.tagName==="LABEL")||(t.value=r([!1,e.falseLabel].includes(t.value)),await re(),c(t.value,h)))}const v=k(()=>(s==null?void 0:s.validateEvent)||e.validateEvent);return D(()=>e.modelValue,()=>{v.value&&(n==null||n.validate("change").catch(h=>ue()))}),{handleChange:p,onClickRoot:x}},Ul=e=>{const t=L(!1),{emit:o}=de(),l=X(U,void 0),u=k(()=>ae(l)===!1),i=L(!1);return{model:k({get(){var n,m;return u.value?(n=l==null?void 0:l.modelValue)==null?void 0:n.value:(m=e.modelValue)!=null?m:t.value},set(n){var m,r;u.value&&W(n)?(i.value=((m=l==null?void 0:l.max)==null?void 0:m.value)!==void 0&&n.length>(l==null?void 0:l.max.value),i.value===!1&&((r=l==null?void 0:l.changeEvent)==null||r.call(l,n))):(o(O,n),t.value=n)}}),isGroup:u,isLimitExceeded:i}},Ml=(e,t,{model:o})=>{const l=X(U,void 0),u=L(!1),i=k(()=>{const r=o.value;return P(r)?r:W(r)?Je(e.label)?r.map(fe).some(c=>bl(c,e.label)):r.map(fe).includes(e.label):r!=null?r===e.trueLabel:!!r}),s=te(k(()=>{var r;return(r=l==null?void 0:l.size)==null?void 0:r.value}),{prop:!0}),n=te(k(()=>{var r;return(r=l==null?void 0:l.size)==null?void 0:r.value})),m=k(()=>!!(t.default||e.label));return{checkboxButtonSize:s,isChecked:i,isFocused:u,checkboxSize:n,hasOwnLabel:m}},Rl=(e,{model:t})=>{function o(){W(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&o()},Oe=(e,t)=>{const{formItem:o}=j(),{model:l,isGroup:u,isLimitExceeded:i}=Ul(e),{isFocused:s,isChecked:n,checkboxButtonSize:m,checkboxSize:r,hasOwnLabel:c}=Ml(e,t,{model:l}),{isDisabled:p}=Gl({model:l,isChecked:n}),{inputId:x,isLabeledByFormItem:v}=ce(e,{formItemContext:o,disableIdGeneration:c,disableIdManagement:u}),{handleChange:h,onClickRoot:g}=Al(e,{model:l,isLimitExceeded:i,hasOwnLabel:c,isDisabled:p,isLabeledByFormItem:v});return Rl(e,{model:l}),{inputId:x,isLabeledByFormItem:v,isChecked:n,isDisabled:p,isFocused:s,checkboxButtonSize:m,checkboxSize:r,hasOwnLabel:c,model:l,handleChange:h,onClickRoot:g}},Kl=["tabindex","role","aria-checked"],ql=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Hl=["id","aria-hidden","disabled","value","name","tabindex"],Wl=B({name:"ElCheckbox"}),Jl=B({...Wl,props:Pe,emits:Fe,setup(e){const t=e,o=Ie(),{inputId:l,isLabeledByFormItem:u,isChecked:i,isDisabled:s,isFocused:n,checkboxSize:m,hasOwnLabel:r,model:c,handleChange:p,onClickRoot:x}=Oe(t,o),v=_("checkbox"),h=k(()=>[v.b(),v.m(m.value),v.is("disabled",s.value),v.is("bordered",t.border),v.is("checked",i.value)]),g=k(()=>[v.e("input"),v.is("disabled",s.value),v.is("checked",i.value),v.is("indeterminate",t.indeterminate),v.is("focus",n.value)]);return(b,y)=>(f(),$(K(!a(r)&&a(u)?"span":"label"),{class:C(a(h)),"aria-controls":b.indeterminate?b.controls:null,onClick:a(x)},{default:w(()=>[T("span",{class:C(a(g)),tabindex:b.indeterminate?0:void 0,role:b.indeterminate?"checkbox":void 0,"aria-checked":b.indeterminate?"mixed":void 0},[b.trueLabel||b.falseLabel?J((f(),S("input",{key:0,id:a(l),"onUpdate:modelValue":y[0]||(y[0]=I=>Q(c)?c.value=I:null),class:C(a(v).e("original")),type:"checkbox","aria-hidden":b.indeterminate?"true":"false",name:b.name,tabindex:b.tabindex,disabled:a(s),"true-value":b.trueLabel,"false-value":b.falseLabel,onChange:y[1]||(y[1]=(...I)=>a(p)&&a(p)(...I)),onFocus:y[2]||(y[2]=I=>n.value=!0),onBlur:y[3]||(y[3]=I=>n.value=!1)},null,42,ql)),[[Z,a(c)]]):J((f(),S("input",{key:1,id:a(l),"onUpdate:modelValue":y[4]||(y[4]=I=>Q(c)?c.value=I:null),class:C(a(v).e("original")),type:"checkbox","aria-hidden":b.indeterminate?"true":"false",disabled:a(s),value:b.label,name:b.name,tabindex:b.tabindex,onChange:y[5]||(y[5]=(...I)=>a(p)&&a(p)(...I)),onFocus:y[6]||(y[6]=I=>n.value=!0),onBlur:y[7]||(y[7]=I=>n.value=!1)},null,42,Hl)),[[Z,a(c)]]),T("span",{class:C(a(v).e("inner"))},null,2)],10,Kl),a(r)?(f(),S("span",{key:0,class:C(a(v).e("label"))},[A(b.$slots,"default"),b.$slots.default?V("v-if",!0):(f(),S(F,{key:0},[ee(N(b.label),1)],64))],2)):V("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Ql=le(Jl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Xl=["name","tabindex","disabled","true-value","false-value"],Yl=["name","tabindex","disabled","value"],Zl=B({name:"ElCheckboxButton"}),jl=B({...Zl,props:Pe,emits:Fe,setup(e){const t=e,o=Ie(),{isFocused:l,isChecked:u,isDisabled:i,checkboxButtonSize:s,model:n,handleChange:m}=Oe(t,o),r=X(U,void 0),c=_("checkbox"),p=k(()=>{var v,h,g,b;const y=(h=(v=r==null?void 0:r.fill)==null?void 0:v.value)!=null?h:"";return{backgroundColor:y,borderColor:y,color:(b=(g=r==null?void 0:r.textColor)==null?void 0:g.value)!=null?b:"",boxShadow:y?`-1px 0 0 0 ${y}`:void 0}}),x=k(()=>[c.b("button"),c.bm("button",s.value),c.is("disabled",i.value),c.is("checked",u.value),c.is("focus",l.value)]);return(v,h)=>(f(),S("label",{class:C(a(x))},[v.trueLabel||v.falseLabel?J((f(),S("input",{key:0,"onUpdate:modelValue":h[0]||(h[0]=g=>Q(n)?n.value=g:null),class:C(a(c).be("button","original")),type:"checkbox",name:v.name,tabindex:v.tabindex,disabled:a(i),"true-value":v.trueLabel,"false-value":v.falseLabel,onChange:h[1]||(h[1]=(...g)=>a(m)&&a(m)(...g)),onFocus:h[2]||(h[2]=g=>l.value=!0),onBlur:h[3]||(h[3]=g=>l.value=!1)},null,42,Xl)),[[Z,a(n)]]):J((f(),S("input",{key:1,"onUpdate:modelValue":h[4]||(h[4]=g=>Q(n)?n.value=g:null),class:C(a(c).be("button","original")),type:"checkbox",name:v.name,tabindex:v.tabindex,disabled:a(i),value:v.label,onChange:h[5]||(h[5]=(...g)=>a(m)&&a(m)(...g)),onFocus:h[6]||(h[6]=g=>l.value=!0),onBlur:h[7]||(h[7]=g=>l.value=!1)},null,42,Yl)),[[Z,a(n)]]),v.$slots.default||v.label?(f(),S("span",{key:2,class:C(a(c).be("button","inner")),style:ne(a(u)?a(p):void 0)},[A(v.$slots,"default",{},()=>[ee(N(v.label),1)])],6)):V("v-if",!0)],2))}});var De=le(jl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const _l=Ve({modelValue:{type:xe(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:$e,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),ea={[O]:e=>W(e),change:e=>W(e)},la=B({name:"ElCheckboxGroup"}),aa=B({...la,props:_l,emits:ea,setup(e,{emit:t}){const o=e,l=_("checkbox"),{formItem:u}=j(),{inputId:i,isLabeledByFormItem:s}=ce(o,{formItemContext:u}),n=async r=>{t(O,r),await re(),t("change",r)},m=k({get(){return o.modelValue},set(r){n(r)}});return Qe(U,{...Dl(Xe(o),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:m,changeEvent:n}),D(()=>o.modelValue,()=>{o.validateEvent&&(u==null||u.validate("change").catch(r=>ue()))}),(r,c)=>{var p;return f(),$(K(r.tag),{id:a(i),class:C(a(l).b("group")),role:"group","aria-label":a(s)?void 0:r.label||"checkbox-group","aria-labelledby":a(s)?(p=a(u))==null?void 0:p.labelId:void 0},{default:w(()=>[A(r.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Ge=le(aa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const ta=Ee(Ql,{CheckboxButton:De,CheckboxGroup:Ge});Be(De);Be(Ge);const na=Ve({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:me},inactiveIcon:{type:me},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:xe(Function)},size:{type:String,validator:Ye},tabindex:{type:[String,Number]}}),oa={[O]:e=>P(e)||M(e)||R(e),[oe]:e=>P(e)||M(e)||R(e),[ie]:e=>P(e)||M(e)||R(e)},ia=["onClick"],sa=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],ua=["aria-hidden"],ra=["aria-hidden"],da=["aria-hidden"],se="ElSwitch",ca=B({name:se}),va=B({...ca,props:na,emits:oa,setup(e,{expose:t,emit:o}){const l=e,u=de(),{formItem:i}=j(),s=te(),n=_("switch");Ze({from:'"value"',replacement:'"model-value" or "v-model"',scope:se,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},k(()=>{var d;return!!((d=u.vnode.props)!=null&&d.value)}));const{inputId:m}=ce(l,{formItemContext:i}),r=we(k(()=>l.loading)),c=L(l.modelValue!==!1),p=L(),x=L(),v=k(()=>[n.b(),n.m(s.value),n.is("disabled",r.value),n.is("checked",b.value)]),h=k(()=>({width:je(l.width)}));D(()=>l.modelValue,()=>{c.value=!0}),D(()=>l.value,()=>{c.value=!1});const g=k(()=>c.value?l.modelValue:l.value),b=k(()=>g.value===l.activeValue);[l.activeValue,l.inactiveValue].includes(g.value)||(o(O,l.inactiveValue),o(oe,l.inactiveValue),o(ie,l.inactiveValue)),D(b,d=>{var E;p.value.checked=d,l.validateEvent&&((E=i==null?void 0:i.validate)==null||E.call(i,"change").catch(Me=>ue()))});const y=()=>{const d=b.value?l.inactiveValue:l.activeValue;o(O,d),o(oe,d),o(ie,d),re(()=>{p.value.checked=b.value})},I=()=>{if(r.value)return;const{beforeChange:d}=l;if(!d){y();return}const E=d();[pe(E),P(E)].includes(!0)||ll(se,"beforeChange must return type `Promise<boolean>` or `boolean`"),pe(E)?E.then(ve=>{ve&&y()}).catch(ve=>{}):E&&y()},Ae=k(()=>n.cssVarBlock({...l.activeColor?{"on-color":l.activeColor}:null,...l.inactiveColor?{"off-color":l.inactiveColor}:null,...l.borderColor?{"border-color":l.borderColor}:null})),Ue=()=>{var d,E;(E=(d=p.value)==null?void 0:d.focus)==null||E.call(d)};return _e(()=>{p.value.checked=b.value}),t({focus:Ue,checked:b}),(d,E)=>(f(),S("div",{class:C(a(v)),style:ne(a(Ae)),onClick:Te(I,["prevent"])},[T("input",{id:a(m),ref_key:"input",ref:p,class:C(a(n).e("input")),type:"checkbox",role:"switch","aria-checked":a(b),"aria-disabled":a(r),name:d.name,"true-value":d.activeValue,"false-value":d.inactiveValue,disabled:a(r),tabindex:d.tabindex,onChange:y,onKeydown:Le(I,["enter"])},null,42,sa),!d.inlinePrompt&&(d.inactiveIcon||d.inactiveText)?(f(),S("span",{key:0,class:C([a(n).e("label"),a(n).em("label","left"),a(n).is("active",!a(b))])},[d.inactiveIcon?(f(),$(a(Y),{key:0},{default:w(()=>[(f(),$(K(d.inactiveIcon)))]),_:1})):V("v-if",!0),!d.inactiveIcon&&d.inactiveText?(f(),S("span",{key:1,"aria-hidden":a(b)},N(d.inactiveText),9,ua)):V("v-if",!0)],2)):V("v-if",!0),T("span",{ref_key:"core",ref:x,class:C(a(n).e("core")),style:ne(a(h))},[d.inlinePrompt?(f(),S("div",{key:0,class:C(a(n).e("inner"))},[d.activeIcon||d.inactiveIcon?(f(),$(a(Y),{key:0,class:C(a(n).is("icon"))},{default:w(()=>[(f(),$(K(a(b)?d.activeIcon:d.inactiveIcon)))]),_:1},8,["class"])):d.activeText||d.inactiveText?(f(),S("span",{key:1,class:C(a(n).is("text")),"aria-hidden":!a(b)},N(a(b)?d.activeText:d.inactiveText),11,ra)):V("v-if",!0)],2)):V("v-if",!0),T("div",{class:C(a(n).e("action"))},[d.loading?(f(),$(a(Y),{key:0,class:C(a(n).is("loading"))},{default:w(()=>[G(a(el))]),_:1},8,["class"])):V("v-if",!0)],2)],6),!d.inlinePrompt&&(d.activeIcon||d.activeText)?(f(),S("span",{key:1,class:C([a(n).e("label"),a(n).em("label","right"),a(n).is("active",a(b))])},[d.activeIcon?(f(),$(a(Y),{key:0},{default:w(()=>[(f(),$(K(d.activeIcon)))]),_:1})):V("v-if",!0),!d.activeIcon&&d.activeText?(f(),S("span",{key:1,"aria-hidden":!a(b)},N(d.activeText),9,da)):V("v-if",!0)],2)):V("v-if",!0)],14,ia))}});var ba=le(va,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const fa=Ee(ba),ma=()=>{const e=k(()=>t.value!==0),t=L(0);return{isLoading:e,load:()=>{t.value++},unload:()=>{t.value--}}},pa={name:"FieldComp"},ha=B({...pa,props:{form:{type:Object,required:!0},field:{type:Object,required:!0}},setup(e){const t=(l,u)=>{if(u.onChange)return u.onChange({value:l,field:u})},o=l=>l.value?l.value:l;return(l,u)=>!e.field.component||e.field.component==="input"?(f(),$(a(al),q({key:0,modelValue:e.form[e.field.prop],"onUpdate:modelValue":u[0]||(u[0]=i=>e.form[e.field.prop]=i)},e.field.componentAttr,{type:e.field.type,clearable:e.field.clearable,disabled:e.field.disabled,size:e.field.size,placeholder:e.field.placeholder?l.$t(`placeholder.${e.field.placeholder}`):l.$t("placeholder.請輸入"),onChange:u[1]||(u[1]=i=>t(i,e.field))}),null,16,["modelValue","type","clearable","disabled","size","placeholder"])):e.field.component==="select"?(f(),$(a(ge),q({key:1,modelValue:e.form[e.field.prop],"onUpdate:modelValue":u[2]||(u[2]=i=>e.form[e.field.prop]=i)},e.field.componentAttr,{clearable:e.field.clearable,disabled:e.field.disabled,size:e.field.size,placeholder:e.field.placeholder?l.$t(`placeholder.${e.field.placeholder}`):l.$t("placeholder.請選擇"),onChange:u[3]||(u[3]=i=>t(i,e.field))}),{default:w(()=>[(f(!0),S(F,null,H(o(e.field.options),i=>(f(),$(a(he),{key:i.value,label:i.label,value:i.value,disabled:i.disabled},null,8,["label","value","disabled"]))),128))]),_:1},16,["modelValue","clearable","disabled","size","placeholder"])):e.field.component==="select-group"?(f(),$(a(ge),q({key:2,modelValue:e.form[e.field.prop],"onUpdate:modelValue":u[4]||(u[4]=i=>e.form[e.field.prop]=i)},e.field.componentAttr,{clearable:e.field.clearable,disabled:e.field.disabled,size:e.field.size,placeholder:e.field.placeholder?l.$t(`placeholder.${e.field.placeholder}`):l.$t("placeholder.請選擇"),onChange:u[5]||(u[5]=i=>t(i,e.field))}),{default:w(()=>[(f(!0),S(F,null,H(o(e.field.options),i=>(f(),$(a(fl),{key:i.label,label:i.label},{default:w(()=>[(f(!0),S(F,null,H(o(i.options),s=>(f(),$(a(he),{key:s.value,label:s.label,value:s.value,disabled:s.disabled},null,8,["label","value","disabled"]))),128))]),_:2},1032,["label"]))),128))]),_:1},16,["modelValue","clearable","disabled","size","placeholder"])):V("",!0)}}),ga={name:"ButtonComp"},ya=B({...ga,props:{button:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const o=e,l=[{label:"送出",value:"submit",type:"primary"},{label:"取消",value:"cancel",type:""}],u=k(()=>{const s=l.find(n=>n.value===o.button);return{type:(s==null?void 0:s.type)||"",label:(s==null?void 0:s.label)||"",value:(s==null?void 0:s.value)||""}}),i=k(()=>["submit"].includes(o.button)&&o.loading);return(s,n)=>(f(),$(a(ml),q(s.$attrs,{type:a(u).type,loading:a(i),onClick:n[0]||(n[0]=m=>t("click",a(u).value))}),{default:w(()=>[A(s.$slots,"default",{},()=>[ee(N(s.$t(a(u).label)),1)])]),_:3},16,["type","loading"]))}}),ka={name:"MrcForm"},Sa=B({...ka,props:{form:{type:Object,required:!0},fields:{type:Object,required:!0},labelPosition:{type:String,default:"top"},size:{type:String,default:"default"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},buttons:{type:[String,Array],default:()=>["cancel","submit"]},enterSubmit:{type:Boolean,default:!1}},setup(e,{emit:t}){const o=e,{spaceRequired:l}=tl(),{$message:u}=Ne(),i=k(()=>typeof o.buttons=="string"?[o.buttons]:o.buttons),s=L(),n=()=>{s.value&&s.value.validate((r,c)=>{if(r)t("submit");else{if(!c)return;Object.keys(c).forEach(p=>{const x=o.fields.find(v=>v.prop===p);if(x&&x.label){const v=l.value?" ":"";u.error(z(x.label)+v+c[p][0].message)}})}})},m=r=>{switch(r){case"submit":n();break;case"cancel":t("cancel");break}};return(r,c)=>(f(),$(a(pl),q({ref_key:"formRef",ref:s},r.$attrs,{model:e.form,"label-position":e.labelPosition,disabled:e.disabled||e.loading,size:e.size,onSubmit:c[0]||(c[0]=Te(()=>{},["prevent"])),onKeyup:c[1]||(c[1]=Le(p=>e.enterSubmit?n():"",["enter"]))}),{default:w(()=>[(f(!0),S(F,null,H(e.fields,p=>(f(),S(F,{key:p.prop},[p.visible!==!1?(f(),$(a(ye),{key:0,prop:p.prop,label:p.label?r.$t(p.label):"",rules:p.rules},{default:w(()=>[A(r.$slots,`field:${p.prop}`,{field:p},()=>[G(ha,{form:e.form,field:p},null,8,["form","field"])],!0)]),_:2},1032,["prop","label","rules"])):V("",!0)],64))),128)),G(a(ye),{class:"form-button"},{default:w(()=>[(f(!0),S(F,null,H(a(i),p=>(f(),$(ya,{key:p,button:p,loading:e.loading,onClick:m},{default:w(()=>[A(r.$slots,`button:${p}`,{},void 0,!0)]),_:2},1032,["button","loading"]))),128))]),_:3})]),_:3},16,["model","label-position","disabled","size"]))}}),Ca=ze(Sa,[["__scopeId","data-v-5489570e"]]),Se={required:!0,message:z("validate.必填")},$a={type:"email",message:z("validate.格式有誤")},wa=()=>{const{load:e,unload:t,isLoading:o}=ma(),{route:l}=hl(),{$messageBox:u}=Ne(),i=localStorage.getItem(l.origin)??"",s=L(!0),n=nl({email:i,password:"",remember:!!i}),m=k(()=>[{prop:"email",label:"電子信箱",rules:(()=>s.value?[Se,$a]:[])(),placeholder:s.value?"":"演示無需輸入",disabled:!s.value},{prop:"password",type:"password",label:"密碼",rules:s.value?Se:[],placeholder:s.value?"":"演示無需輸入",disabled:!s.value},{prop:"remember"}]),r=async()=>{e(),s.value?(n.remember?localStorage.setItem(l.origin,n.email):localStorage.removeItem(l.origin),await ol(n)):await u.confirm(z("演示站僅供查看"),z("提示"),{type:"warning",confirmButtonText:z("確認"),cancelButtonText:z("取消")}).then(()=>!0).catch(()=>!1)&&await il(),t()};return D(()=>s.value,()=>{s.value&&i?(n.email=i,n.password="",n.remember=!!i):(n.email="",n.password="")}),{isFormal:s,form:n,fields:m,isLoading:o,submitHandler:r}},Ia=e=>(ul("data-v-31668ae8"),e=e(),rl(),e),Va={class:"login"},xa={class:"login-form"},Ea=Ia(()=>T("h1",{class:"login-title"},"Sign in",-1)),Ba={class:"version"},La={class:"mode-switch"},Ta=B({__name:"index",setup(e){const{isFormal:t,form:o,fields:l,isLoading:u,submitHandler:i}=wa(),s="0.1.4";return(n,m)=>{const r=sl("loading");return J((f(),S("div",Va,[T("div",xa,[Ea,G(a(Ca),{form:a(o),fields:a(l),buttons:"submit",onSubmit:m[1]||(m[1]=c=>a(i)())},{"field:remember":w(()=>[G(a(ta),{modelValue:a(o).remember,"onUpdate:modelValue":m[0]||(m[0]=c=>a(o).remember=c),disabled:!a(t),label:n.$t("記住我的電子信箱")},null,8,["modelValue","disabled","label"])]),"button:submit":w(()=>[ee(N(n.$t("登入")),1)]),_:1},8,["form","fields"]),T("div",Ba,N(a(s)),1)]),T("div",La,[G(a(fa),{modelValue:a(t),"onUpdate:modelValue":m[2]||(m[2]=c=>Q(t)?t.value=c:null),"active-text":n.$t("正式"),"inactive-text":n.$t("演示")},null,8,["modelValue","active-text","inactive-text"])])])),[[r,a(u)]])}}});const Oa=ze(Ta,[["__scopeId","data-v-31668ae8"]]);export{Oa as default};
