import{a as g,c as T,g as h,h as l,i as d}from"./index-89928456.js";import{l as s}from"./firebase-3a4f80eb.js";const{$message:f}=g(),{getUtcTime:m,getDateTimeSort:u,checkDateTimeRange:O}=T(),y=o=>new Promise(async(i,c)=>{const t=h(o);let a;Object.keys(t).length===1&&Object.keys(t)[0]==="operateTime"?a=[s("operateTime",">=",m(t.operateTime[0])),s("operateTime","<=",m(t.operateTime[1]))]:a=Object.keys(t).filter(e=>e!=="operateTime").map(e=>s(e,"==",t[e])),await l({method:"get",url:"Database/Manage/Operate",query:a}).then(e=>{if(e){const p=e.filter(r=>O(r.operateTime,o.operateTime)).sort((r,n)=>u({a:r.operateTime,b:n.operateTime,sort:"descending"}));i({data:p,total:e.length})}else i({data:[],total:0})}).catch(e=>{f.error(d(e.code)),c(e)})});export{y as g};
